(function(e){function t(t){for(var a,n,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)n=c[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var c=r[n];0!==o[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o={app:0},s=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0fe3268c":"7238ecf9","chunk-2d0c85f8":"ad2a344f","chunk-2d0e5991":"274515ca","chunk-8388cd24":"dc6d93a4"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-0fe3268c":1,"chunk-8388cd24":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-0fe3268c":"50ec3a42","chunk-2d0c85f8":"31d6cfe0","chunk-2d0e5991":"31d6cfe0","chunk-8388cd24":"4dfe2be1"}[e]+".css",o=i.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[e],m.parentNode.removeChild(m),r(s)},m.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1915:function(e,t,r){e.exports=r.p+"img/banner_logo_w.3e32ebae.png"},"29bf":function(e,t,r){"use strict";var a=r("d4ec"),n=r("bee2"),o=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,[{key:"getLocalRefreshToken",value:function(){var e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.refreshToken}},{key:"getLocalAccessToken",value:function(){var e=JSON.parse(localStorage.getItem("user"));return null===e||void 0===e?void 0:e.accessToken}},{key:"updateLocalAccessToken",value:function(e){var t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}},{key:"getUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"setUser",value:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"removeUser",value:function(){localStorage.removeItem("user"),window.location="/Groupomania-app/home"}}]),e}();t["a"]=new o},"2d82":function(e,t,r){"use strict";var a=r("d4ec"),n=r("bee2"),o=r("7424"),s=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,[{key:"getPublicContent",value:function(){return o["a"].get("/public")}},{key:"getUserBoard",value:function(){return o["a"].get("/user")}},{key:"getUserProfile",value:function(){return o["a"].get("/profile")}},{key:"getModeratorBoard",value:function(){return o["a"].get("/mod")}},{key:"getAdminBoard",value:function(){return o["a"].get("/admin")}},{key:"updateUser",value:function(e){var t=e.gender,r=e.birthday,a=e.firstname,n=e.lastname,s=e.username,c=e.email,i=e.password,u=e.updatedAt;return o["a"].put("/updateUser",{gender:t,birthday:r,firstname:a,lastname:n,username:s,email:c,password:i,updatedAt:u})}},{key:"deleteUser",value:function(e){return o["a"].put("/deleteUser",{id:e})}}]),e}();t["a"]=new s},"30ef":function(e,t,r){"use strict";var a={on:function(e,t){document.addEventListener(e,(function(e){return t(e.detail)}))},dispatch:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:function(e,t){document.removeEventListener(e,t)}};t["a"]=a},"36e1":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n=r("1915"),o=r.n(n);Object(a["A"])("data-v-2d30c7da");var s={id:"app"},c={class:"navbar navbar-expand-lg navbar-dark"},i=Object(a["h"])("img",{src:o.a,alt:"Logo Groupomania",class:"px-2"},null,-1),u=Object(a["h"])("img",{src:o.a,alt:"Logo Groupomania",class:"px-2"},null,-1),l={class:"navbar-nav me-auto"},d={key:0,class:"nav-item"},m=Object(a["j"])("Accueil "),f={key:1,class:"nav-item"},b=Object(a["j"])("Administrateur - Forum"),p={key:2,class:"nav-item"},h=Object(a["j"])("Moderateur- Forum"),g={key:3,class:"nav-item"},O=Object(a["j"])("Forum de discussion"),j={key:2,class:"navbar-nav ms-auto"},v={class:"nav-item"},k=Object(a["j"])(" Inscription "),y={class:"nav-item"},w=Object(a["j"])(" Connection "),x={key:3,class:"navbar-nav ms-auto"},_={class:"nav-item"},E={class:"nav-item pe-1"},S=Object(a["j"])(" Déconnection "),G={class:"container-fluid"};function L(e,t,r,n,o,L){var I=Object(a["E"])("router-link"),U=Object(a["E"])("font-awesome-icon"),A=Object(a["E"])("router-view");return Object(a["x"])(),Object(a["g"])("div",s,[Object(a["h"])("nav",c,[L.currentUser?Object(a["f"])("",!0):(Object(a["x"])(),Object(a["e"])(I,{key:0,to:"/Grouponia-app/home",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[i]})),_:1})),L.currentUser?(Object(a["x"])(),Object(a["e"])(I,{key:1,to:"/forum",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[u]})),_:1})):Object(a["f"])("",!0),Object(a["h"])("div",l,[this.$store.state.auth.status.loggedIn?Object(a["f"])("",!0):(Object(a["x"])(),Object(a["g"])("li",d,[Object(a["k"])(I,{to:"/Groupomania-app/home",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[Object(a["k"])(U,{icon:"home"}),m]})),_:1})])),L.showAdminBoard?(Object(a["x"])(),Object(a["g"])("li",f,[Object(a["k"])(I,{to:"/Groupomania-app/forum",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[b]})),_:1})])):Object(a["f"])("",!0),L.showModeratorBoard?(Object(a["x"])(),Object(a["g"])("li",p,[Object(a["k"])(I,{to:"/Groupomania-app/forum",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[h]})),_:1})])):Object(a["f"])("",!0),L.showModeratorBoard?Object(a["f"])("",!0):(Object(a["x"])(),Object(a["g"])("li",g,[L.currentUser?(Object(a["x"])(),Object(a["e"])(I,{key:0,to:"/Groupomania-app/forum",class:"nav-link fs-4 ps-1"},{default:Object(a["O"])((function(){return[O]})),_:1})):Object(a["f"])("",!0)]))]),L.currentUser?Object(a["f"])("",!0):(Object(a["x"])(),Object(a["g"])("div",j,[Object(a["h"])("li",v,[Object(a["k"])(I,{to:"/Groupomania-app/register",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[Object(a["k"])(U,{icon:"user-plus"}),k]})),_:1})]),Object(a["h"])("li",y,[Object(a["k"])(I,{to:"/Groupomania-app/login",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[Object(a["k"])(U,{icon:"sign-in-alt"}),w]})),_:1})])])),L.currentUser?(Object(a["x"])(),Object(a["g"])("div",x,[Object(a["h"])("li",_,[Object(a["k"])(I,{to:"/Groupomania-app/profile",class:"nav-link fs-4"},{default:Object(a["O"])((function(){return[Object(a["k"])(U,{icon:"user"}),Object(a["j"])(" "+Object(a["H"])(L.currentUser.username),1)]})),_:1})]),Object(a["h"])("li",E,[Object(a["h"])("a",{class:"nav-link fs-4",onClick:t[0]||(t[0]=Object(a["Q"])((function(){return L.logOut&&L.logOut.apply(L,arguments)}),["prevent"]))},[Object(a["k"])(U,{icon:"sign-out-alt"}),S])])])):Object(a["f"])("",!0)]),Object(a["h"])("div",G,[Object(a["k"])(A)])])}Object(a["y"])();r("caad"),r("2532");var I=r("30ef"),U={data:function(){return{mainColor:"#122442",modifyProfile:"false"}},computed:{currentUser:function(){return this.$store.state.auth.user},showAdminBoard:function(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_ADMIN")},showModeratorBoard:function(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_MODERATOR")}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/Groupomania-app/home")}},mounted:function(){var e=this;I["a"].on("logout",(function(){e.logOut()}))},beforeUnmount:function(){I["a"].remove("logout")}},A=function(){Object(a["K"])((function(e){return{"0a00bf74":e.mainColor}}))},P=U.setup;U.setup=P?function(e,t){return A(),P(e,t)}:A;var F=U;r("aee1");F.render=L,F.__scopeId="data-v-2d30c7da";var T=F,q=(r("d3b7"),r("3ca3"),r("ddb0"),r("6c02"));Object(a["A"])("data-v-34462eb2");var C={class:"container"},M=Object(a["h"])("header",{class:"jumbotron"},[Object(a["h"])("h2",{id:"vueTitle",class:"mt-5 fw-bold title-content"},"Bienvenu sur le réseau social de Groupomania")],-1),N={class:"text-center"},R={class:"list-group"},$={class:"list-group-item"},B=Object(a["h"])("button",{class:"btn btn-primary btn-block fs-3 btn-lg mt-5 connection mt-2"},"Connexion",-1),J={class:"list-group-item"},z=Object(a["h"])("button",{class:"btn btn-secondary btn-block fs-3 mt-5 btn-lg connection mt-2"},"Inscription",-1);function D(e,t,r,n,o,s){var c=Object(a["E"])("router-link"),i=Object(a["E"])("Footer");return Object(a["x"])(),Object(a["g"])(a["a"],null,[Object(a["h"])("div",C,[M,Object(a["h"])("div",N,[Object(a["h"])("ul",R,[Object(a["h"])("li",$,[Object(a["k"])(c,{to:"/Groupomania-app/login"},{default:Object(a["O"])((function(){return[B]})),_:1})]),Object(a["h"])("li",J,[Object(a["k"])(c,{to:"/Groupomania-app/register"},{default:Object(a["O"])((function(){return[z]})),_:1})])])])]),Object(a["k"])(i)],64)}Object(a["y"])();r("25f0");var H=r("2d82"),V=r("fd2d"),K=function(){return JSON.parse(localStorage.getItem("user"))},Z=K(),Q={name:"Home",components:{Footer:V["a"]},data:function(){return{content:""}},mounted:function(){var e=this;Z?Z&&this.$router.push("/Groupomania-app/forum"):H["a"].getPublicContent().then((function(t){e.content=t.data}),(function(t){e.content=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))}};r("a417");Q.render=D,Q.__scopeId="data-v-34462eb2";var Y=Q,W={class:"col-md-12"},X={class:"card card-container border-light"},ee=Object(a["h"])("img",{id:"profile-img",class:"mx-auto profile-img-card",style:{"max-height":"20rem","max-width":"18rem"},src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"},null,-1),te={class:"form-group"},re=Object(a["h"])("label",{for:"username",class:"fs-4 fw-bold"},"Identifiant",-1),ae={class:"form-group"},ne=Object(a["h"])("label",{for:"password",class:"fs-4 fw-bold"},"Mot de passe",-1),oe={class:"form-group"},se=["disabled"],ce={class:"spinner-border spinner-border-sm"},ie=Object(a["h"])("span",{class:""},"Connection",-1),ue={class:"form-group"},le={key:0,class:"alert alert-danger",role:"alert"};function de(e,t,r,n,o,s){var c=Object(a["E"])("Field"),i=Object(a["E"])("ErrorMessage"),u=Object(a["E"])("Form"),l=Object(a["E"])("Footer");return Object(a["x"])(),Object(a["g"])(a["a"],null,[Object(a["h"])("div",W,[Object(a["h"])("div",X,[ee,Object(a["k"])(u,{onSubmit:s.handleLogin,"validation-schema":o.schema},{default:Object(a["O"])((function(){return[Object(a["h"])("div",te,[re,Object(a["k"])(c,{name:"username",type:"text",class:"form-control"}),Object(a["k"])(i,{name:"username",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",ae,[ne,Object(a["k"])(c,{name:"password",type:"password",class:"form-control"}),Object(a["k"])(i,{name:"password",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",oe,[Object(a["h"])("button",{class:"btn btn-primary btn-block connection mt-2",disabled:o.loading},[Object(a["P"])(Object(a["h"])("span",ce,null,512),[[a["L"],o.loading]]),ie],8,se)]),Object(a["h"])("div",ue,[o.message?(Object(a["x"])(),Object(a["g"])("div",le,Object(a["H"])(o.message),1)):Object(a["f"])("",!0)])]})),_:1},8,["onSubmit","validation-schema"])])]),Object(a["k"])(l)],64)}var me=r("7bb1"),fe=r("506a"),be={name:"Login",components:{Footer:V["a"],Form:me["c"],Field:me["b"],ErrorMessage:me["a"]},data:function(){var e=fe["b"]().shape({username:fe["c"]().required("L'identifiant utilisateur est requis !"),password:fe["c"]().required("Le mot de passe est requis !")});return{loading:!1,message:"",schema:e}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/Groupomania-app/forum")},methods:{handleLogin:function(e){var t=this;this.loading=!0,this.$store.dispatch("auth/login",e).then((function(){t.$router.push("/Groupomania-app/forum")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};be.render=de;var pe=be,he={class:"col-md-12"},ge={class:"card card-container border-light"},Oe=Object(a["h"])("img",{id:"profile-img",class:"mx-auto profile-img-card",style:{"max-height":"20rem","max-width":"18rem"},src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"},null,-1),je={key:0},ve={class:"my-2 form-group gender-radios"},ke=Object(a["h"])("label",{for:"Homme",class:"fs-5 ms-1"},"Homme",-1),ye=Object(a["h"])("label",{for:"Femme",class:"fs-5 ms-1"},"Femme",-1),we={class:"form-group"},xe=Object(a["h"])("label",{for:"firstName",class:"fs-4 fw-bold"},"Prénom :",-1),_e={class:"form-group"},Ee=Object(a["h"])("label",{for:"lastName",class:"fs-4 fw-bold"},"Nom :",-1),Se={class:"form-group"},Ge=Object(a["h"])("label",{for:"birthday",class:"fs-4 fw-bold"},"Date de naissance :",-1),Le={class:"form-group"},Ie=Object(a["h"])("label",{for:"username",class:"fs-4 fw-bold"},"Identifiant",-1),Ue={class:"form-group"},Ae=Object(a["h"])("label",{for:"email",class:"fs-4 fw-bold"},"Email",-1),Pe={class:"form-group"},Fe=Object(a["h"])("label",{for:"password",class:"fs-4 fw-bold"},"Mot de passe",-1),Te={class:"form-group my-3"},qe=["disabled"],Ce={class:"spinner-border spinner-border-sm"},Me=Object(a["j"])(" S'inscrire "),Ne=Object(a["h"])("button",{type:"reset",id:"refresh-inscription",class:"mx-3 btn btn-secondary btn-block","aria-label":"Effacer ma saisie",value:"Effacer ma saisie"},"Effacer ma saisie",-1);function Re(e,t,r,n,o,s){var c=Object(a["E"])("Field"),i=Object(a["E"])("ErrorMessage"),u=Object(a["E"])("Form"),l=Object(a["E"])("Footer");return Object(a["x"])(),Object(a["g"])(a["a"],null,[Object(a["h"])("div",he,[Object(a["h"])("div",ge,[Oe,Object(a["k"])(u,{onSubmit:s.handleRegister,"validation-schema":o.schema,id:"register-form"},{default:Object(a["O"])((function(){return[o.successful?Object(a["f"])("",!0):(Object(a["x"])(),Object(a["g"])("div",je,[Object(a["h"])("div",ve,[Object(a["k"])(c,{name:"gender",type:"radio",value:"Homme"}),ke,Object(a["k"])(c,{name:"gender",class:"ms-2",type:"radio",value:"Femme"}),ye,Object(a["k"])(i,{name:"gender",class:"error-feedback ms-3",style:{color:"red"}})]),Object(a["h"])("div",we,[xe,Object(a["k"])(c,{name:"firstname",type:"text",class:"form-control"}),Object(a["k"])(i,{name:"firstname",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",_e,[Ee,Object(a["k"])(c,{name:"lastname",type:"text",class:"form-control"}),Object(a["k"])(i,{name:"lastname",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",Se,[Ge,Object(a["k"])(c,{name:"birthday",type:"text",class:"form-control"}),Object(a["k"])(i,{name:"birthday",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",Le,[Ie,Object(a["k"])(c,{name:"username",type:"text",class:"form-control"}),Object(a["k"])(i,{name:"username",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",Ue,[Ae,Object(a["k"])(c,{name:"email",type:"email",class:"form-control"}),Object(a["k"])(i,{name:"email",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",Pe,[Fe,Object(a["k"])(c,{name:"password",type:"password",class:"form-control"}),Object(a["k"])(i,{name:"password",class:"error-feedback",style:{color:"red"}})]),Object(a["h"])("div",Te,[Object(a["h"])("button",{class:"btn btn-primary btn-block",disabled:o.loading},[Object(a["P"])(Object(a["h"])("span",Ce,null,512),[[a["L"],o.loading]]),Me],8,qe),Ne])]))]})),_:1},8,["onSubmit","validation-schema"]),o.message?(Object(a["x"])(),Object(a["g"])("div",{key:0,class:Object(a["r"])(["alert",o.successful?"alert-success":"alert-danger"])},Object(a["H"])(o.message),3)):Object(a["f"])("",!0)])]),Object(a["k"])(l)],64)}var $e={name:"Register",components:{Footer:V["a"],Form:me["c"],Field:me["b"],ErrorMessage:me["a"]},data:function(){var e=fe["b"]().shape({gender:fe["c"]().required("Veuillez choisir une option"),firstname:fe["c"]().required("Veuillez entrer votre Nom").max(50,"Le nom ne doit pas dépasser 50 caractères!").matches(/^[aA-zZ\s]+$/,"Veuillez n'utiliser que des lettres."),lastname:fe["c"]().required("Veuillez entrer votre Prénom").max(50,"Le nom ne doit pas dépasser 50 caractères!").matches(/^[aA-zZ\s]+$/,"Veuillez n'utiliser que des lettres."),birthday:fe["a"]().max(new Date,"Date impossible car située dans le futur").required("Veuillez entrez une date au format AAAA-MM-JJ, ex: 1979-12-31"),username:fe["c"]().required("Un identifiant est requis !").min(3,"L'identifiant doit contenir au moins 3 caractères!").max(20,"L'identifiant ne doit pas dépasser 20 caractères!"),email:fe["c"]().required("Un email est requis !").email("Email incorrect").max(50,"L'email ne doit pas dépasser 50 caractères!"),password:fe["c"]().required("Un mot de passe est requis !").min(6,"Le mot de passe doit contenir au moins 6 caractères !").max(40,"L'email ne doit pas dépasser 50 caractères !")});return{successful:!1,loading:!1,message:"",schema:e}},mounted:function(){this.loggedIn&&this.$router.push("/Groupomania-app/profile")},methods:{handleRegister:function(e){var t=this;this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then((function(e){t.message=e.message,t.successful=!0,t.loading=!1}),(function(e){t.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),t.successful=!1,t.loading=!1}))}}};$e.render=Re;var Be=$e,Je=r("29bf"),ze=function(){return r.e("chunk-0fe3268c").then(r.bind(null,"66aa"))},De=function(){return r.e("chunk-2d0c85f8").then(r.bind(null,"5535"))},He=function(){return r.e("chunk-2d0e5991").then(r.bind(null,"94bb"))},Ve=function(){return r.e("chunk-8388cd24").then(r.bind(null,"0899"))},Ke=[{path:"/Groupomania-app/",name:"home",component:Y},{path:"/Groupomania-app/home",component:Y},{path:"/Groupomania-app/login",component:pe},{path:"/Groupomania-app/register",component:Be},{path:"/Groupomania-app/profile",name:"profile",component:ze},{path:"/Groupomania-app/admin",name:"admin",component:De},{path:"/Groupomania-app/mod",name:"moderator",component:He},{path:"/Groupomania-app/forum",name:"forum",component:Ve}],Ze=Object(q["a"])({history:Object(q["b"])(),routes:Ke});Ze.beforeEach((function(e,t,r){var a=["/Groupomania-app/login","/Groupomania-app/register","/Groupomania-app/home","/Groupomania-app/"],n=!a.includes(e.path),o=localStorage.getItem("user");n&&!o?(Je["a"].removeUser(),r("/Groupomania-app/home")):(Je["a"].getLocalRefreshToken(),r())}));var Qe=Ze,Ye=r("5502"),We=r("d4ec"),Xe=r("bee2"),et=r("7424"),tt=function(){function e(){Object(We["a"])(this,e)}return Object(Xe["a"])(e,[{key:"login",value:function(e){var t=e.username,r=e.password;return et["a"].post("/auth/signin",{username:t,password:r}).then((function(e){return e.data.accessToken&&Je["a"].setUser(e.data),e.data}))}},{key:"logout",value:function(){Je["a"].removeUser()}},{key:"register",value:function(e){var t=e.gender,r=e.birthday,a=e.firstname,n=e.lastname,o=e.username,s=e.email,c=e.password;return et["a"].post("/auth/signup",{gender:t,birthday:r,firstname:a,lastname:n,username:o,email:s,password:c})}}]),e}(),rt=new tt,at=JSON.parse(localStorage.getItem("user")),nt=at?{status:{loggedIn:!0},user:at}:{status:{loggedIn:!1},user:null},ot={namespaced:!0,state:nt,actions:{login:function(e,t){var r=e.commit;return rt.login(t).then((function(e){return r("loginSuccess",e),Promise.resolve(e)}),(function(e){return r("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;rt.logout(),t("logout")},register:function(e,t){var r=e.commit;return rt.register(t).then((function(e){return r("registerSuccess"),Promise.resolve(e.data)}),(function(e){return r("registerFailure"),Promise.reject(e)}))}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1}}},st=Object(Ye["a"])({modules:{auth:ot}}),ct=st,it=(r("7b17"),r("ab8b"),r("ecee")),ut=r("ad3d"),lt=r("c074"),dt=r("f2d1");it["c"].add(lt["e"],lt["d"],lt["a"],lt["f"],lt["h"],lt["g"],lt["b"],lt["c"],dt["a"]);var mt=r("1da1"),ft=(r("96cf"),function(e){et["a"].interceptors.request.use((function(e){var t=Je["a"].getLocalAccessToken();return t&&(e.headers["x-access-token"]=t),e}),(function(e){return Promise.reject(e)})),et["a"].interceptors.response.use((function(e){return e}),function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(r){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r.config,"/auth/signin"===a.url||!r.response){t.next=17;break}if(401!==r.response.status||a._retry){t.next=17;break}return a._retry=!0,t.prev=4,t.next=7,et["a"].post("/auth/refreshtoken",{refreshToken:Je["a"].getLocalRefreshToken()});case 7:return n=t.sent,o=n.data.accessToken,e.dispatch("auth/refreshToken",o),Je["a"].updateLocalAccessToken(o),t.abrupt("return",Object(et["a"])(a));case 14:return t.prev=14,t.t0=t["catch"](4),t.abrupt("return",Promise.reject(t.t0));case 17:return t.abrupt("return",Promise.reject(r));case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}())}),bt=ft;bt(ct),Object(a["d"])(T).use(Qe).use(ct).component("font-awesome-icon",ut["a"]).mount("#app")},7424:function(e,t,r){"use strict";var a=r("bc3a"),n=r.n(a),o=n.a.create({baseURL:"https://api-groupo.herokuapp.com/api",headers:{"Content-Type":"application/json"}});t["a"]=o},a417:function(e,t,r){"use strict";r("af4d")},aa50:function(e,t,r){},aee1:function(e,t,r){"use strict";r("36e1")},af4d:function(e,t,r){},bbce:function(e,t,r){"use strict";r("aa50")},fd2d:function(e,t,r){"use strict";var a=r("7a23");Object(a["A"])("data-v-93183cc0");var n={class:"footer container-fluid footer-background py-2 mt-3 mb-2"},o=Object(a["h"])("h3",{class:"text-center fs-4"},"À propos",-1),s=Object(a["i"])('<ul class="text-center mb-1" data-v-93183cc0><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>À propos</a></li><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>Carrières</a></li><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>Conditions d&#39;utilisation</a></li><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>Politique de Contenu</a></li><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>Politique de Confidentialité</a></li><li data-v-93183cc0><a href="#" target="_blank" rel="noopener" data-v-93183cc0>Politique de Modération</a></li></ul>',1),c={class:"text-center my-0"};function i(e,t,r,i,u,l){var d=Object(a["E"])("router-link");return Object(a["x"])(),Object(a["g"])("div",n,[Object(a["k"])(d,{to:"/Groupomania-app/login"},{default:Object(a["O"])((function(){return[o]})),_:1}),s,Object(a["h"])("p",c,Object(a["H"])(l.copyright()),1)])}Object(a["y"])();var u={name:"Footer",methods:{copyright:function(){var e=(new Date).getFullYear();return"Copyright: Groupomania Inc © ".concat(e,". Tous droits réservés")}}};r("bbce");u.render=i,u.__scopeId="data-v-93183cc0";t["a"]=u}});
//# sourceMappingURL=app.dafd21ba.js.map